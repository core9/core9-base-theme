<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Basic JSON Editor Example</title>
    <script src="js/promise.min.js"></script>
    <script src="../dist/jsoneditor.js"></script>
  </head>
  <body>
    <h1>Basic JSON Editor Example</h1>
    
    <div id='editor_holder'></div>
    <button id='submit'>Submit (console.log)</button>
    
    <script>
    // This is the starting value for the editor
    // We will use this to seed the initial editor 
    // and to provide a "Restore to Default" button.
    
   
    
    promise.get('basic.json').then(function(error, text, xhr) {
        if (error) {
            alert('Error ' + xhr.status);
            return;
        }

        var starting_value = [
                      		text
                          ];
                          
                          // Initialize the editor
                          var editor = new JSONEditor(document.getElementById('editor_holder'),{
                            // Enable fetching schemas via ajax
                            ajax: true,
                            
                            // The schema for the editor
                            schema: {
                              type: "array",
                              title: "People",
                              format: "tabs",
                              items: {
                                title: "Person",
                                headerTemplate: "{{i}} - {{self.name}}",
                                oneOf: [
                                  {
                                    $ref: "basic_person.json",
                                    title: "Basic Person"
                                  },
                                  {
                                    $ref: "person.json",
                                    title: "Complex Person"
                                  }
                                ]
                              }
                            },
                            
                            // Seed the form with a starting value
                            startval: starting_value,
                            
                            // Disable additional properties
                            no_additional_properties: true,
                            
                            // Require all properties by default
                            required_by_default: true
                          });
    
    
    });
    
    

    </script>
  </body>
</html>
